# üß© **–û–±—â–µ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ**

–ö–ª–∞—Å—Å `DependencyInjectionContainer` ‚Äî —ç—Ç–æ **—É–ø—Ä–∞–≤–ª—è—é—â–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä**, –∫–æ—Ç–æ—Ä—ã–π:

* —Å–æ–∑–¥–∞—ë—Ç –æ–±—ä–µ–∫—Ç—ã –Ω—É–∂–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤ (—Ç–∞–∫ –Ω–∞–∑—ã–≤–∞–µ–º—ã–µ *–±–∏–Ω—ã*);
* —Ö—Ä–∞–Ω–∏—Ç –∏—Ö (—Ä–µ–∞–ª–∏–∑—É—è *singleton-–ø–æ–≤–µ–¥–µ–Ω–∏–µ*);
* –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–Ω–µ–¥—Ä—è–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ –ø–æ–ª—è, –ø–æ–º–µ—á–µ–Ω–Ω—ã–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π `@Autowired`.

–ü–æ —Å—É—Ç–∏ ‚Äî —ç—Ç–æ **–º–∏–Ω–∏-–≤–µ—Ä—Å–∏—è Spring IoC –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞**.

---

# üèóÔ∏è **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–ª–∞—Å—Å–∞**

---

## üîπ –ü–æ–ª—è

### 1. `private Map<String, Object> beans = new HashMap<>();`

* **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** —Ö—Ä–∞–Ω–∏—Ç —É–∂–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã (–±–∏–Ω—ã).
* **–ö–ª—é—á:** –∏–º—è –∫–ª–∞—Å—Å–∞ (`String`, –æ–±—ã—á–Ω–æ `SimpleName`).
* **–ó–Ω–∞—á–µ–Ω–∏–µ:** —ç–∫–∑–µ–º–ø–ª—è—Ä –æ–±—ä–µ–∫—Ç–∞ (singleton).

üìò –ü—Ä–∏–º–µ—Ä:
–ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –≤—ã–∑–æ–≤–∞ `getBean(UserService.class)` –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å–æ–∑–¥–∞—ë—Ç –æ–±—ä–µ–∫—Ç `UserServiceImplementation` –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç:

```java
beans.put("UserService", userServiceImplementationInstance);
```

–ü—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –≤—ã–∑–æ–≤–µ ‚Äî –æ—Ç–¥–∞—Å—Ç —É–∂–µ –≥–æ—Ç–æ–≤—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä.

---

### 2. `private Map<Class<?>, Class<?>> implementations = new HashMap<>();`

* **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** —Å–æ–ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç **–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã** –∏ **–∏—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏**.
* –≠—Ç–æ –Ω—É–∂–Ω–æ, —á—Ç–æ–±—ã –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ `UserService.class` –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–Ω–∞–ª, —á—Ç–æ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å `UserServiceImplementation`.

üìò –ü—Ä–∏–º–µ—Ä:

```java
implementations.put(UserService.class, UserServiceImplementation.class);
implementations.put(UserRepository.class, UserRepositoryImplementation.class);
```

---

## üîπ –ú–µ—Ç–æ–¥—ã

---

### 1. `public void register(Class<?> interfaceClass, Class<?> implementationClass)`

* –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø–∞—Ä—É *–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å ‚Üí —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è* –≤—Ä—É—á–Ω—É—é.
* –ù—É–∂–Ω–æ, –µ—Å–ª–∏ —Ç—ã —Ö–æ—á–µ—à—å –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –±–µ–∑ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∞–∫–µ—Ç–∞.

üìò –ü—Ä–∏–º–µ—Ä:

```java
container.register(PaymentService.class, PaymentServiceImplementation.class);
```

---

### 2. `public void scanAndRegister(String basePackage)`

* –ò–º–∏—Ç–∏—Ä—É–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ **—Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞–∫–µ—Ç–æ–≤** (–≤ —Ä–µ–∞–ª—å–Ω–æ–º DI-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ –∏—â—É—Ç –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –≤—Ä–æ–¥–µ `@Component`).
* –ó–¥–µ—Å—å –ø—Ä–æ—Å—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç `registerComponents()`, —á—Ç–æ–±—ã –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –∑–∞—Ä–∞–Ω–µ–µ –∑–∞–¥–∞–Ω–Ω—ã–µ –∫–ª–∞—Å—Å—ã.

üìò –ü—Ä–∏–º–µ—Ä –≤—ã–∑–æ–≤–∞:

```java
container.scanAndRegister("com.dandaev.edu");
```

---

### 3. `private void registerComponents()`

* –≠—Ç–æ **–≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥**, –∫–æ—Ç–æ—Ä—ã–π –≤—Ä—É—á–Ω—É—é –¥–æ–±–∞–≤–ª—è–µ—Ç –±–∞–∑–æ–≤—ã–µ —Å–µ—Ä–≤–∏—Å—ã –∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.
* –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–º–µ—Å—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è.

üìò –ü—Ä–∏–º–µ—Ä —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ:

```java
internalRegister(UserService.class, UserServiceImplementation.class);
internalRegister(UserRepository.class, UserRepositoryImplementation.class);
```

---

### 4. `private void internalRegister(Class<?> interfaceClass, Class<?> implementationClass)`

* –ù–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –≤–µ—Ä—Å–∏—è `register()`, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å–∞–º–∏–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º.
* –î–æ–±–∞–≤–ª—è–µ—Ç –∑–∞–ø–∏—Å—å –≤ `implementations`.

---

### 5. `public <T> T getBean(Class<T> clazz)`

* –ì–ª–∞–≤–Ω—ã–π –º–µ—Ç–æ–¥ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.
* –û—Ç–≤–µ—á–∞–µ—Ç –∑–∞ **–ø–æ–ª—É—á–µ–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –±–∏–Ω–∞**:

  1. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –µ—Å—Ç—å –ª–∏ –æ–±—ä–µ–∫—Ç –≤ `beans`.
  2. –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî –∏—â–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é, —Å–æ–∑–¥–∞—ë—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä (`createInstance()`), –≤–Ω–µ–¥—Ä—è–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (`injectDependencies()`), —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç.
  3. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≥–æ—Ç–æ–≤—ã–π –æ–±—ä–µ–∫—Ç.

üìò –ü—Ä–∏–º–µ—Ä:

```java
UserService userService = container.getBean(UserService.class);
```

üìä –õ–æ–≥–∏–∫–∞:

```
beans -> —É–∂–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç?
       ‚Ü≥ –¥–∞ ‚Üí –≤–µ—Ä–Ω—É—Ç—å
       ‚Ü≥ –Ω–µ—Ç ‚Üí —Å–æ–∑–¥–∞—Ç—å ‚Üí –≤–Ω–µ–¥—Ä–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ ‚Üí —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å ‚Üí –≤–µ—Ä–Ω—É—Ç—å
```

---

### 6. `private <T> T createInstance(Class<?> clazz)`

* –°–æ–∑–¥–∞—ë—Ç **–Ω–æ–≤—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä** –∫–ª–∞—Å—Å–∞ —á–µ—Ä–µ–∑ **—Ä–µ—Ñ–ª–µ–∫—Å–∏—é**.
* –ò—Å–ø–æ–ª—å–∑—É–µ—Ç **–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤** (`clazz.getDeclaredConstructor()`).
* –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç `injectDependencies(instance)`.

üìò –ü—Ä–∏–º–µ—Ä:

```java
UserServiceImplementation obj = (UserServiceImplementation) constructor.newInstance();
injectDependencies(obj);
```

---

### 7. `private void injectDependencies(Object instance)`

* –°–∞–º–æ–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–µ –º–µ—Å—Ç–æ üí°
* –ò—â–µ—Ç –≤—Å–µ **–ø–æ–ª—è**, –ø–æ–º–µ—á–µ–Ω–Ω—ã–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π `@Autowired`.
* –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∞–∫–æ–≥–æ –ø–æ–ª—è:

  1. –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (`field.getType()`).
  2. –ü–æ–ª—É—á–∞–µ—Ç –∏–ª–∏ —Å–æ–∑–¥–∞—ë—Ç –±–∏–Ω –Ω—É–∂–Ω–æ–≥–æ —Ç–∏–ø–∞ (`getBean(...)`).
  3. –í–Ω–µ–¥—Ä—è–µ—Ç –µ–≥–æ –≤ –ø–æ–ª–µ —á–µ—Ä–µ–∑ `field.set(instance, dependency)`.

üìò –ü—Ä–∏–º–µ—Ä:

```java
public class UserServiceImplementation {
    @Autowired
    private UserRepository userRepository;
}
```

–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ `UserServiceImplementation` –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:

* –≤–∏–¥–∏—Ç –ø–æ–ª–µ `userRepository` —Å `@Autowired`,
* —Å–æ–∑–¥–∞—ë—Ç/–Ω–∞—Ö–æ–¥–∏—Ç `UserRepositoryImplementation`,
* –≤–Ω–µ–¥—Ä—è–µ—Ç –µ–≥–æ –≤ `userRepository`.

---

## üîπ –ê–Ω–Ω–æ—Ç–∞—Ü–∏—è `@Autowired`

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ **–º–∞—Ä–∫–µ—Ä**, —á—Ç–æ–±—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–Ω–∞–ª:

> ¬´–≠—Ç–æ –ø–æ–ª–µ –Ω—É–∂–Ω–æ –∑–∞–ø–æ–ª–Ω–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏¬ª.

–ï—Å–ª–∏ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è —Å–æ–¥–µ—Ä–∂–∏—Ç `required = true`, –∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ ‚Äî –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –∏—Å–∫–ª—é—á–µ–Ω–∏–µ.

---

# üîÅ **–ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (–∫–æ—Ä–æ—Ç–∫–æ)**

1. –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å–æ–∑–¥–∞—ë—Ç—Å—è:

   ```java
   DependencyInjectionContainer container = new DependencyInjectionContainer();
   ```
2. –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É—é—Ç—Å—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

   ```java
   container.scanAndRegister("com.dandaev.edu");
   ```
3. –ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –±–∏–Ω–∞:

   ```java
   UserService service = container.getBean(UserService.class);
   ```

   –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:

   * –ø–æ–∏—Å–∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ `implementations`,
   * —Å–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞,
   * –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ `@Autowired` –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π,
   * —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ `beans`,
   * –≤–æ–∑–≤—Ä–∞—Ç –≥–æ—Ç–æ–≤–æ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞.

---

# üß† –ò—Ç–æ–≥–æ

| –≠–ª–µ–º–µ–Ω—Ç                | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                                    |
| ---------------------- | ------------------------------------------------------------- |
| `beans`                | –•—Ä–∞–Ω–∏–ª–∏—â–µ –≥–æ—Ç–æ–≤—ã—Ö singleton-–æ–±—ä–µ–∫—Ç–æ–≤                          |
| `implementations`      | –ö–∞—Ä—Ç–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –∏ –∏—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π                             |
| `register()`           | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–∞—Ä—ã –≤—Ä—É—á–Ω—É—é                                      |
| `scanAndRegister()`    | –ò–º–∏—Ç–∏—Ä—É–µ—Ç –ø–æ–∏—Å–∫ –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤                     |
| `internalRegister()`   | –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –º–µ—Ç–æ–¥ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏                                  |
| `getBean()`            | –ü–æ–ª—É—á–∞–µ—Ç –∏–ª–∏ —Å–æ–∑–¥–∞—ë—Ç –±–∏–Ω                                      |
| `createInstance()`     | –°–æ–∑–¥–∞—ë—Ç –æ–±—ä–µ–∫—Ç —Å –ø–æ–º–æ—â—å—é —Ä–µ—Ñ–ª–µ–∫—Å–∏–∏                            |
| `injectDependencies()` | –í–Ω–µ–¥—Ä—è–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø–æ `@Autowired`                          |
| `@Autowired`           | –£–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ —ç—Ç–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ |


---

–†–∞–∑–±–µ—Ä—ë–º —ç—Ç–∏ —Ç—Ä–∏ –º–µ—Ç–æ–¥–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ: —á—Ç–æ –æ–Ω–∏ –¥–µ–ª–∞—é—Ç, –ø–æ—á–µ–º—É —Ç–∞–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã, –∫–∞–∫–∏–µ —É –Ω–∏—Ö —Å–ª–∞–±—ã–µ –º–µ—Å—Ç–∞ –∏ –∫–∞–∫ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å. –Ø –æ–±—ä—è—Å–Ω—é —à–∞–≥ –∑–∞ —à–∞–≥–æ–º, –¥–æ–±–∞–≤–ª—é –ø—Ä–∏–º–µ—Ä –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏ –ø—Ä–µ–¥–ª–æ–∂—É –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –∏ —É–ª—É—á—à–µ–Ω–∏—è –∫–æ–¥–∞.

## ‚óã getBean(Class<T> clazz)

## –ß—Ç–æ –¥–µ–ª–∞–µ—Ç (–ø–æ—à–∞–≥–æ–≤–æ)

1. `String beanName = clazz.getSimpleName();` ‚Äî —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –∏–º—è –±–∏–Ω–∞ –ø–æ –ø—Ä–æ—Å—Ç–æ–º—É –∏–º–µ–Ω–∏ –∫–ª–∞—Å—Å–∞ (–±–µ–∑ –ø–∞–∫–µ—Ç–∞).
2. `if (beans.containsKey(beanName)) { return (T) beans.get(beanName); }` ‚Äî –µ—Å–ª–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä —É–∂–µ —Å–æ–∑–¥–∞–Ω (singleton), –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –µ–≥–æ.
3. `Class<?> implementation = implementations.getOrDefault(clazz, clazz);` ‚Äî –µ—Å–ª–∏ –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞ (–æ–±—ã—á–Ω–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞) –µ—Å—Ç—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è, –±–µ—Ä—ë—Ç –µ—ë; –∏–Ω–∞—á–µ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç, —á—Ç–æ `clazz` —Å–∞–º –ø–æ —Å–µ–±–µ ‚Äî —Ä–µ–∞–ª–∏–∑—É–µ–º—ã–π –∫–ª–∞—Å—Å.
4. `T instance = createInstance(implementation);` ‚Äî —Å–æ–∑–¥–∞—ë—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ (—á–µ—Ä–µ–∑ —Ä–µ—Ñ–ª–µ–∫—Å–∏—é).
5. `beans.put(beanName, instance);` ‚Äî —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–æ–∑–¥–∞–Ω–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –≤ –∫—ç—à–µ (`beans`), —á—Ç–æ–±—ã –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –∑–∞–ø—Ä–æ—Å–µ –≤–µ—Ä–Ω—É—Ç—å —Ç–æ—Ç –∂–µ –æ–±—ä–µ–∫—Ç.
6. `return instance;` ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç.

## –ö–ª—é—á–µ–≤—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

* **–ö–ª—é—á ‚Äî `clazz.getSimpleName()`**:

  * –ü—Ä–æ–±–ª–µ–º–∞: –∏–º–µ–Ω–∞ –∫–ª–∞—Å—Å–æ–≤ –±–µ–∑ –ø–∞–∫–µ—Ç–∞ –º–æ–≥—É—Ç —Å–æ–≤–ø–∞–¥–∞—Ç—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, `com.a.User` –∏ `com.b.User`) ‚Üí –∫–æ–Ω—Ñ–ª–∏–∫—Ç.
  * –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `Class<?>` –∫–∞–∫ –∫–ª—é—á –∏–ª–∏ `clazz.getName()` (–ø–æ–ª–Ω–æ–µ –∏–º—è —Å –ø–∞–∫–µ—Ç–æ–º).
* **–¢–∏–ø –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –∏ unchecked cast**:

  * –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `@SuppressWarnings("unchecked")`, –ø–æ—Ç–æ–º—É —á—Ç–æ `beans` —Ö—Ä–∞–Ω–∏—Ç `Object`. –≠—Ç–æ –æ–±—ã—á–Ω–∞—è –∫–æ–º–ø—Ä–æ–º–∏—Å—Å–Ω–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞, –Ω–æ –±—É–¥—å—Ç–µ –∞–∫–∫—É—Ä–∞—Ç–Ω—ã —Å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é —Ç–∏–ø–æ–≤.
* **Singleton-–ø–æ–≤–µ–¥–µ–Ω–∏–µ**: `getBean` –≤—Å–µ–≥–¥–∞ –∫–µ—à–∏—Ä—É–µ—Ç –æ–±—ä–µ–∫—Ç ‚Äî —ç—Ç–æ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø–æ–ª–∏—Ç–∏–∫–∞ singleton –¥–ª—è –≤—Å–µ—Ö –∫–ª–∞—Å—Å–æ–≤ (–Ω–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ prototype scope).
* **–ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: `beans` ‚Äî –æ–±—ã—á–Ω—ã–π `HashMap`. –í –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ–π —Å—Ä–µ–¥–µ –≤–æ–∑–º–æ–∂–Ω—ã –≥–æ–Ω–∫–∏ (—Å–æ–∑–¥–∞–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤). –ù–∞–¥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `ConcurrentHashMap` –ª–∏–±–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é.
* **–ö—Ä—É–≥–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤ —Ç–µ–∫—É—â–µ–º –≤–∏–¥–µ –º–æ–∂–µ—Ç –∑–∞—Å—Ç—Ä—è—Ç—å –ø—Ä–∏ –∫—Ä—É–≥–æ–≤–æ–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (A ‚Üí B ‚Üí A), –ø–æ—Ç–æ–º—É —á—Ç–æ `getBean` –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –≤—ã–∑—ã–≤–∞–µ—Ç `createInstance`, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–∑—ã–≤–∞–µ—Ç `injectDependencies`, –∫–æ—Ç–æ—Ä—ã–π —Å–Ω–æ–≤–∞ –≤—ã–∑—ã–≤–∞–µ—Ç `getBean` –∏ —Ç.–¥. –ù—É–∂–Ω–∞ –º–µ—Ö–∞–Ω–∏–∫–∞ —Ä–∞–Ω–Ω–∏—Ö —Å—Å—ã–ª–æ–∫/–ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –∏–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–æ–∫—Å–∏.

---

## createInstance(Class<?> clazz)

### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç

1. `Constructor<?> constructor = clazz.getDeclaredConstructor();` ‚Äî –∏—â–µ—Ç **–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤**. –ï—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç ‚Äî `NoSuchMethodException`.
2. `constructor.setAccessible(true);` ‚Äî –¥–µ–ª–∞–µ—Ç –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –¥–æ—Å—Ç—É–ø–Ω—ã–º, –¥–∞–∂–µ –µ—Å–ª–∏ –æ–Ω `private`.
3. `T instance = (T) constructor.newInstance();` ‚Äî —Å–æ–∑–¥–∞—ë—Ç –æ–±—ä–µ–∫—Ç —á–µ—Ä–µ–∑ –≤—ã–∑–æ–≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞.
4. `injectDependencies(instance);` ‚Äî –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞ –≤–Ω–µ–¥—Ä—è–µ—Ç –≤—Å–µ –ø–æ–ª—è, –ø–æ–º–µ—á–µ–Ω–Ω—ã–µ `@Autowired`.
5. `return instance;` ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä.

### –ó–∞–º–µ—á–∞–Ω–∏—è –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

* **–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ no-arg –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞**: —Ç–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å –∫–ª–∞—Å—Å–∞–º–∏, —É –∫–æ—Ç–æ—Ä—ã—Ö –µ—Å—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π/–¥–æ—Å—Ç—É–ø–Ω—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç–æ–≤. –î–ª—è –∫–ª–∞—Å—Å–æ–≤ —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä (constructor injection) —ç—Ç–æ –Ω–µ –ø–æ–¥–æ–π–¥—ë—Ç.
* **setAccessible(true)**: —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å—Ä–µ–¥–∞—Ö —Å SecurityManager / –º–æ–¥—É–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π (JPMS) —ç—Ç–æ –º–æ–∂–µ—Ç –Ω–µ —Å—Ä–∞–±–æ—Ç–∞—Ç—å –∏–ª–∏ –±—ã—Ç—å –∑–∞–ø—Ä–µ—â–µ–Ω–æ.
* **–í—ã–±–æ—Ä –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞**: –ª—É—á—à–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –≤—ã–±–æ—Ä –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ–º–µ—á–µ–Ω–Ω–æ–≥–æ `@Inject` –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ —Å–∞–º—ã–π ¬´–ø–æ–¥—Ö–æ–¥—è—â–∏–π¬ª), –∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä (–±–µ–∑–æ–ø–∞—Å–Ω–µ–µ –∏ —Ç–µ—Å—Ç–∏—Ä—É–µ–º–µ–µ).
* **–û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π**: —Å–µ–π—á–∞—Å –º–µ—Ç–æ–¥ –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ—Ç `Exception` –Ω–∞—Ä—É–∂—É; –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ —É–∑–∫–∏–µ —Ç–∏–ø—ã –∏—Å–∫–ª—é—á–µ–Ω–∏–π –∏–ª–∏ –æ–±—ë—Ä—Ç–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `BeanCreationException`).

---

## injectDependencies(Object instance)

### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç

1. `Field[] fields = instance.getClass().getDeclaredFields();` ‚Äî –ø–æ–ª—É—á–∞–µ—Ç –≤—Å–µ –ø–æ–ª—è –∫–ª–∞—Å—Å–∞ (—Ç–æ–ª—å–∫–æ —Ç–µ–∫—É—â–∏–π –∫–ª–∞—Å—Å, –Ω–µ —Å—É–ø–µ—Ä–∫–ª–∞—Å—Å—ã).
2. –î–ª—è –∫–∞–∂–¥–æ–≥–æ `field`:

   * –ø—Ä–æ–≤–µ—Ä—è–µ—Ç `if (field.isAnnotationPresent(Autowired.class))`.
   * –ø–æ–ª—É—á–∞–µ—Ç –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é `Autowired annotation = field.getAnnotation(Autowired.class);`
   * `Object dependency = getBean(field.getType());` ‚Äî —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ –ø–æ–ª—É—á–∞–µ—Ç (–∏–ª–∏ —Å–æ–∑–¥–∞—ë—Ç) –±–∏–Ω –Ω—É–∂–Ω–æ–≥–æ —Ç–∏–ø–∞.
   * –µ—Å–ª–∏ `dependency == null && annotation.required()` ‚Äî –∫–∏–¥–∞–µ—Ç `IllegalStateException`.
   * `field.setAccessible(true); field.set(instance, dependency);` ‚Äî –¥–µ–ª–∞–µ—Ç –ø–æ–ª–µ –¥–æ—Å—Ç—É–ø–Ω—ã–º –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ.

### –ó–∞–º–µ—á–∞–Ω–∏—è –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

* **–ò–Ω—ä–µ–∫—Ü–∏—è —Ç–æ–ª—å–∫–æ –≤ –ø–æ–ª—è —Ç–µ–∫—É—â–µ–≥–æ –∫–ª–∞—Å—Å–∞**: –Ω–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –ø–æ–ª—è —Å—É–ø–µ—Ä–∫–ª–∞—Å—Å–æ–≤. –ï—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è ‚Äî –Ω–∞–¥–æ –∏—Ç–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–æ `getSuperclass()` —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ.
* **–ü–æ—Ä—è–¥–æ–∫ –ø–æ–ª–µ–π**: Java –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –ø–æ—Ä—è–¥–æ–∫ –ø–æ–ª–µ–π; —ç—Ç–æ —Ä–µ–¥–∫–æ –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ, –Ω–æ –∏–Ω–æ–≥–¥–∞ –≤–∞–∂–Ω–æ –ø—Ä–∏ —Å–ª–æ–∂–Ω—ã—Ö –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è—Ö.
* **Nullable –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: –µ—Å–ª–∏ `@Autowired(required = false)`, –∫–æ–¥ –¥–æ–ø—É—Å–∫–∞–µ—Ç `null` (–Ω–æ —Ç–µ–∫—É—â–∞—è –ª–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∏ –∫–∏–¥–∞–µ—Ç –ø—Ä–∏ `required = true`).
* **–ö—Ä—É–≥–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —á–∞—Å—Ç–∏—á–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã**: –∫–∞–∫ –≤—ã—à–µ ‚Äî –ø—Ä–∏ –∫—Ä—É–≥–æ–≤–æ–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–æ–∂–µ—Ç –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å –∑–∞—Ü–∏–∫–ª–∏–≤–∞–Ω–∏–µ. –û–¥–∏–Ω –∏–∑ –ø–æ–¥—Ö–æ–¥–æ–≤ ‚Äî —Å–æ—Ö—Ä–∞–Ω—è—Ç—å ¬´–ø—É—Å—Ç–æ–π¬ª/—á–∞—Å—Ç–∏—á–Ω–æ —Å–æ–∑–¥–∞–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç –≤ –∫—ç—à–µ —Ä–∞–Ω–Ω–∏—Ö —Å—Å—ã–ª–æ–∫ –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º `injectDependencies`, —á—Ç–æ–±—ã `getBean` –º–æ–≥ –≤–µ—Ä–Ω—É—Ç—å —Å—Å—ã–ª–∫—É –∏ —Ä–∞–∑–æ—Ä–≤–∞—Ç—å —Ü–∏–∫–ª.
* **–ü–æ–ª–µ –≤ —Å—É–ø–µ—Ä–∫–ª–∞—Å—Å–µ / –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–æ–ª—è**: `setAccessible(true)` –ø–æ–∑–≤–æ–ª–∏—Ç –ø–∏—Å–∞—Ç—å –≤ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–æ–ª—è, –Ω–æ –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö Java-–º–æ–¥—É–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö —ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ.

---

## –ü—Ä–∏–º–µ—Ä –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (UserService ‚Üí UserRepository)

1. –í—ã–∑–æ–≤: `container.getBean(UserService.class)`.
2. `beanName = "UserService"`, –≤ `beans` ‚Äî –Ω–µ—Ç.
3. `implementations.getOrDefault(UserService.class, UserService.class)` ‚Üí `UserServiceImplementation.class`.
4. `createInstance(UserServiceImplementation.class)`:

   * —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π `UserServiceImplementation()` —á–µ—Ä–µ–∑ no-arg –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä.
   * –≤—ã–∑—ã–≤–∞–µ—Ç `injectDependencies(instance)`.
5. –í `injectDependencies`: –Ω–∞—Ö–æ–¥–∏—Ç –ø–æ–ª–µ `@Autowired private UserRepository userRepository;`

   * –≤—ã–∑—ã–≤–∞–µ—Ç `getBean(UserRepository.class)` (—Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ —Å–æ–∑–¥–∞—ë—Ç `UserRepositoryImplementation`).
   * —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `instance.userRepository = repositoryInstance`.
6. –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è, `createInstance` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `instance`.
7. `getBean` —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç `beans.put("UserService", instance)` –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –µ–≥–æ.

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é (–∫–æ–¥ + –∏–¥–µ–∏)

–ù–∏–∂–µ ‚Äî –∫—Ä–∞—Ç–∫–∏–π —Å–ø–∏—Å–æ–∫ —É–ª—É—á—à–µ–Ω–∏–π –∏ –ø—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞.

#### 1) –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `Class<?>` –∫–∞–∫ –∫–ª—é—á –≤ `beans`

```java
private Map<Class<?>, Object> beans = new ConcurrentHashMap<>();
...
public <T> T getBean(Class<T> clazz) throws Exception {
    if (beans.containsKey(clazz)) {
        return (T) beans.get(clazz);
    }
    Class<?> implementation = implementations.getOrDefault(clazz, clazz);
    // double-checked locking / atomic computeIfAbsent
    return (T) beans.computeIfAbsent(clazz, key -> {
        try {
            return createInstance(implementation);
        } catch (Exception e) {
            throw new RuntimeException(e);
        }
    });
}
```

#### 2) –ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å

* –ò—Å–ø–æ–ª—å–∑—É–π `ConcurrentHashMap` –∏ `computeIfAbsent` –¥–ª—è –∞—Ç–æ–º–∞—Ä–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –±–∏–Ω–∞.

#### 3) –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫—Ä—É–≥–æ–≤—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–ø—Ä–æ—Å—Ç–µ–π—à–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è: —Ä–∞–Ω–Ω—è—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è)

–ü–µ—Ä–µ–¥ `injectDependencies` —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å ¬´–∑–∞–≥–æ—Ç–æ–≤–∫—É¬ª –≤ `beans`:

```java
// pseudo
beans.put(clazz, instance); // —Ä–∞–Ω–Ω—è—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è -> —Ä–∞–∑—Ä—ã–≤–∞–µ—Ç —Ü–∏–∫–ª
injectDependencies(instance);
```

–ù–æ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ç–æ–ª—å–∫–æ –¥–ª—è –ø–æ–ª–µ–≤–æ–π –∏–Ω—ä–µ–∫—Ü–∏–∏ (field injection). –î–ª—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–Ω–æ–π –∏–Ω—ä–µ–∫—Ü–∏–∏ –Ω—É–∂–µ–Ω –¥—Ä—É–≥–æ–π –ø–æ–¥—Ö–æ–¥.

#### 4) –ü–æ–¥–¥–µ—Ä–∂–∫–∞ constructor injection

* –ù–∞–π—Ç–∏ –ø–æ–¥—Ö–æ–¥—è—â–∏–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä –ø–æ–º–µ—á–µ–Ω–Ω—ã–π `@Inject` –∏–ª–∏ —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –≤—Å–µ —Ç–∏–ø—ã –∫–æ—Ç–æ—Ä—ã—Ö –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –∏–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞), —Å–æ–±—Ä–∞—Ç—å –∞—Ä–≥—É–º–µ–Ω—Ç—ã —á–µ—Ä–µ–∑ `getBean` –∏ –≤—ã–∑–≤–∞—Ç—å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏.

### 5) –ë—Ä–æ—Å–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è

* `BeanCreationException`, `NoSuchBeanDefinitionException` –≤–º–µ—Å—Ç–æ `Exception` / `IllegalStateException` ‚Äî —Ç–∞–∫ –ª–µ–≥—á–µ –æ—Ç–ª–∞–≤–ª–∏–≤–∞—Ç—å –æ—à–∏–±–∫–∏.

#### 6) –í–Ω–µ–¥—Ä–µ–Ω–∏–µ –≤ –ø–æ–ª—è —Å—É–ø–µ—Ä–∫–ª–∞—Å—Å–æ–≤

* –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –æ–±—Ö–æ–¥–∏—Ç—å `Class<?> c = instance.getClass(); while (c != Object.class) { ... c = c.getSuperclass(); }`.

### 7) –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

* –õ–æ–≥–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –±–∏–Ω–æ–≤, –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö ‚Äî –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏.

---

## –ò—Ç–æ–≥ ‚Äî –∫–æ—Ä–æ—Ç–∫–æ

* `getBean` ‚Äî –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π –∑–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ/–∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∏–Ω–∞, –≤—ã–±–æ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.
* `createInstance` ‚Äî —Å–æ–∑–¥–∞—ë—Ç –æ–±—ä–µ–∫—Ç —á–µ—Ä–µ–∑ no-arg –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∏ —Å—Ä–∞–∑—É –≤—ã–∑—ã–≤–∞–µ—Ç `injectDependencies`.
* `injectDependencies` ‚Äî –Ω–∞—Ö–æ–¥–∏—Ç –ø–æ–ª—è —Å `@Autowired` –∏ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –∏—Ö –±–∏–Ω—ã, –∑–∞—Ç–µ–º —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è —á–µ—Ä–µ–∑ reflection.

–ö–∞–∂–¥—ã–π –º–µ—Ç–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ —Ç–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Å—Ç–∞—è –∏ –∏–º–µ–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è: –Ω–µ—Ç –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, —É—è–∑–≤–∏–º–æ—Å—Ç—å –∫ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞–º –∏–º—ë–Ω, –Ω–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ constructor injection, –∏ –≤–æ–∑–º–æ–∂–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Å –∫—Ä—É–≥–æ–≤—ã–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏. –Ø –ø—Ä–∏–≤—ë–ª –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è –∏ –∫—Ä–∞—Ç–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ ‚Äî –µ—Å–ª–∏ —Ö–æ—á–µ—à—å, –º–æ–≥—É —Å–¥–µ–ª–∞—Ç—å –æ–¥–Ω–æ –∏–∑ —É–ª—É—á—à–µ–Ω–∏–π –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å `beans` –Ω–∞ `Map<Class<?>, Object>` —Å `computeIfAbsent`, –∏–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –ø–æ–ª–µ–π —Å—É–ø–µ—Ä–∫–ª–∞—Å—Å–æ–≤ / —Ä–∞–Ω–Ω–µ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –¥–ª—è –±–æ—Ä—å–±—ã —Å –∫—Ä—É–≥–æ–≤—ã–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏). –ö–∞–∫–æ–π –≤–∞—Ä–∏–∞–Ω—Ç –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç –±–æ–ª—å—à–µ?
